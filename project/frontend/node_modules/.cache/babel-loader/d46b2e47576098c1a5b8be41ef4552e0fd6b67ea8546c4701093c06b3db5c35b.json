{"ast":null,"code":"// post login info\nexport async function fetchLogin({\n  email,\n  password\n}) {\n  const url = 'http://localhost:5005/admin/auth/login';\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.error);\n  }\n  return data;\n}\n\n// post register info\nexport async function fetchRegister({\n  email,\n  password,\n  name\n}) {\n  const url = 'http://localhost:5005/admin/auth/register';\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      email,\n      password,\n      name\n    })\n  });\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.error);\n  }\n  return data;\n}\n\n// post logout info\nexport async function fetchLogout() {\n  const url = 'http://localhost:5005/admin/auth/logout';\n  const token = localStorage.getItem('TOKEN');\n  const response = await fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.error);\n  }\n  return data;\n}\n\n// get store data\nexport async function fetchStore() {\n  const getURL = 'http://localhost:5005/store';\n  const token = localStorage.getItem('TOKEN');\n  const response = await fetch(getURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    }\n  });\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.error);\n  }\n  return data;\n}\n\n// update store data\nexport async function updateStore(dataInfo) {\n  const putURL = 'http://localhost:5005/store';\n  const token = localStorage.getItem('TOKEN');\n  const response = await fetch(putURL, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      store: dataInfo\n    })\n  });\n  const data = await response.json();\n  if (!response.ok) {\n    throw new Error(data.error);\n  }\n  return data;\n}","map":{"version":3,"names":["fetchLogin","email","password","url","response","fetch","method","headers","body","JSON","stringify","data","json","ok","Error","error","fetchRegister","name","fetchLogout","token","localStorage","getItem","Authorization","fetchStore","getURL","updateStore","dataInfo","putURL","store"],"sources":["/Users/wenjing/Desktop/COMP9900/front/my-app/src/compoment/Fetch.jsx"],"sourcesContent":["// post login info\nexport async function fetchLogin ({ email, password }) {\n  const url = 'http://localhost:5005/admin/auth/login'\n  const response = await fetch(url, {\n    method: 'POST',\n\n    headers: {\n      'Content-type': 'application/json'\n    },\n\n    body: JSON.stringify({\n      email,\n      password,\n    }),\n  })\n  const data = await response.json()\n  if (!response.ok) {\n    throw new Error(data.error)\n  }\n  return data;\n}\n\n// post register info\nexport async function fetchRegister ({ email, password, name }) {\n  const url = 'http://localhost:5005/admin/auth/register'\n  const response = await fetch(url, {\n    method: 'POST',\n\n    headers: {\n      'Content-Type': 'application/json',\n    },\n\n    body: JSON.stringify({\n      email,\n      password,\n      name,\n    }),\n  })\n  const data = await response.json()\n  if (!response.ok) {\n    throw new Error(data.error)\n  }\n  return data;\n}\n\n// post logout info\nexport async function fetchLogout () {\n  const url = 'http://localhost:5005/admin/auth/logout'\n  const token = localStorage.getItem('TOKEN')\n  const response = await fetch(url, {\n    method: 'POST',\n\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  })\n  const data = await response.json()\n  if (!response.ok) {\n    throw new Error(data.error)\n  }\n  return data;\n}\n\n// get store data\nexport async function fetchStore () {\n  const getURL = 'http://localhost:5005/store'\n  const token = localStorage.getItem('TOKEN')\n  const response = await fetch(getURL, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  const data = await response.json()\n  if (!response.ok) {\n    throw new Error(data.error)\n  }\n  return data;\n}\n\n// update store data\nexport async function updateStore (dataInfo) {\n  const putURL = 'http://localhost:5005/store'\n  const token = localStorage.getItem('TOKEN')\n  const response = await fetch(putURL, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({ store: dataInfo }),\n  });\n  const data = await response.json()\n  if (!response.ok) {\n    throw new Error(data.error)\n  }\n  return data;\n}\n"],"mappings":"AAAA;AACA,OAAO,eAAeA,UAAUA,CAAE;EAAEC,KAAK;EAAEC;AAAS,CAAC,EAAE;EACrD,MAAMC,GAAG,GAAG,wCAAwC;EACpD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IAChCG,MAAM,EAAE,MAAM;IAEdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IAEDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBT,KAAK;MACLC;IACF,CAAC;EACH,CAAC,CAAC;EACF,MAAMS,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,KAAK,CAAC;EAC7B;EACA,OAAOJ,IAAI;AACb;;AAEA;AACA,OAAO,eAAeK,aAAaA,CAAE;EAAEf,KAAK;EAAEC,QAAQ;EAAEe;AAAK,CAAC,EAAE;EAC9D,MAAMd,GAAG,GAAG,2CAA2C;EACvD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IAChCG,MAAM,EAAE,MAAM;IAEdC,OAAO,EAAE;MACP,cAAc,EAAE;IAClB,CAAC;IAEDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACnBT,KAAK;MACLC,QAAQ;MACRe;IACF,CAAC;EACH,CAAC,CAAC;EACF,MAAMN,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,KAAK,CAAC;EAC7B;EACA,OAAOJ,IAAI;AACb;;AAEA;AACA,OAAO,eAAeO,WAAWA,CAAA,EAAI;EACnC,MAAMf,GAAG,GAAG,yCAAyC;EACrD,MAAMgB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAG,EAAE;IAChCG,MAAM,EAAE,MAAM;IAEdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCe,aAAa,EAAE,UAAUH,KAAK;IAChC;EACF,CAAC,CAAC;EACF,MAAMR,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,KAAK,CAAC;EAC7B;EACA,OAAOJ,IAAI;AACb;;AAEA;AACA,OAAO,eAAeY,UAAUA,CAAA,EAAI;EAClC,MAAMC,MAAM,GAAG,6BAA6B;EAC5C,MAAML,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAACmB,MAAM,EAAE;IACnClB,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCe,aAAa,EAAE,UAAUH,KAAK;IAChC;EACF,CAAC,CAAC;EACF,MAAMR,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,KAAK,CAAC;EAC7B;EACA,OAAOJ,IAAI;AACb;;AAEA;AACA,OAAO,eAAec,WAAWA,CAAEC,QAAQ,EAAE;EAC3C,MAAMC,MAAM,GAAG,6BAA6B;EAC5C,MAAMR,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,MAAMjB,QAAQ,GAAG,MAAMC,KAAK,CAACsB,MAAM,EAAE;IACnCrB,MAAM,EAAE,KAAK;IACbC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCe,aAAa,EAAE,UAAUH,KAAK;IAChC,CAAC;IACDX,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEkB,KAAK,EAAEF;IAAS,CAAC;EAC1C,CAAC,CAAC;EACF,MAAMf,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAClC,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE;IAChB,MAAM,IAAIC,KAAK,CAACH,IAAI,CAACI,KAAK,CAAC;EAC7B;EACA,OAAOJ,IAAI;AACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}