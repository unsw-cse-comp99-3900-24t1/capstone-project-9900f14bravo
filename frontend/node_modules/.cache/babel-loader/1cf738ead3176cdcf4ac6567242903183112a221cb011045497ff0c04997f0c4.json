{"ast":null,"code":"import React,{useState}from'react';import NavBar from'./NavBar';import{TextField,Button,Box,Container,Typography,MenuItem,IconButton,InputAdornment,Alert,LinearProgress}from'@mui/material';import{Visibility,VisibilityOff}from'@mui/icons-material';import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const securityQuestions=[{id:1,text:'What was your childhood nickname?'},{id:2,text:'What is the name of your favorite childhood friend?'},{id:3,text:'What was your favorite place to visit as a child?'},{id:4,text:'What was your dream job as a child?'}];const checkPasswordStrength=password=>{if(password.length<8){return'weak';}else if(!/[A-Z]/.test(password)||!/[a-z]/.test(password)||!/[\\W_]/.test(password)){return'medium';}else{return'strong';}};const RegisterForm=()=>{const navigate=useNavigate();const[formData,setFormData]=useState({username:'',password:'',confirmPassword:'',question_id:'',answer:''});const[errors,setErrors]=useState({});const[generalError,setGeneralError]=useState('');const[passwordStrength,setPasswordStrength]=useState('');const[showPassword,setShowPassword]=useState(false);const[showConfirmPassword,setShowConfirmPassword]=useState(false);const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});if(name==='password'){setPasswordStrength(checkPasswordStrength(value));}};const handleClickShowPassword=()=>{setShowPassword(!showPassword);};const handleClickShowConfirmPassword=()=>{setShowConfirmPassword(!showConfirmPassword);};const handleFieldErrors=error=>{const newErrors={username:'',password:'',confirmPassword:'',question_id:'',answer:'',general:''};if(error.response){const{message,code}=error.response.data.error;if(code==='USERNAME_EXISTS'){newErrors.username=message;}else if(code==='INVALID_PASSWORD_FORMAT'){newErrors.password=message;}else if(code==='PASSWORDS_DO_NOT_MATCH'){newErrors.confirmPassword=message;}else if(code==='MISSING_FIELDS'){newErrors.general=message;}else{newErrors.general=message;}}else{newErrors.general='An error occurred while submitting your registration. Please try again.';}setErrors(newErrors);};const handleSubmit=event=>{event.preventDefault();const{username,password,confirmPassword,question_id,answer}=formData;// 清除所有错误提示\nsetErrors({});setGeneralError('');// 表单验证\nlet isValid=true;const newErrors={};if(!username){newErrors.username='Username is required';isValid=false;}if(!password){newErrors.password='Password is required';isValid=false;}if(password!==confirmPassword){newErrors.confirmPassword='Passwords do not match';isValid=false;}if(!question_id){newErrors.question_id='Security question is required';isValid=false;}if(!answer){newErrors.answer='Answer is required';isValid=false;}if(!isValid){setErrors(newErrors);return;}// 发送注册请求\naxios.post('http://localhost:8000/api/register/',{username:username,password:password,confirm_password:confirmPassword,question_id:question_id,answer:answer}).then(function(response){if(response.status===201){navigate('/login');// 注册成功后跳转\n}else{setErrors({username:'Username already exists or another error occurred.'});}}).catch(function(error){handleFieldErrors(error);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsxs(Box,{sx:{marginTop:15,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Register\"}),generalError&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mt:1,mb:1},children:generalError}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:1},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"username\",label:\"Username\",name:\"username\",autoComplete:\"username\",autoFocus:true,value:formData.username,onChange:handleChange,error:Boolean(errors.username),helperText:errors.username}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:showPassword?'text':'password',id:\"password\",autoComplete:\"new-password\",value:formData.password,onChange:handleChange,error:Boolean(errors.password),helperText:errors.password,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle password visibility\",onClick:handleClickShowPassword,edge:\"end\",children:showPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}}),formData.password&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{display:\"flex\",alignItems:\"center\",sx:{mt:1,width:'100%'},children:[/*#__PURE__*/_jsx(Box,{width:\"33%\",children:/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:passwordStrength==='weak'?100:0,sx:{height:10,borderRadius:5,backgroundColor:'#e0e0e0','& .MuiLinearProgress-bar':{borderRadius:5,backgroundColor:passwordStrength==='weak'?'red':'#e0e0e0'}}})}),/*#__PURE__*/_jsx(Box,{width:\"33%\",sx:{ml:1},children:/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:passwordStrength==='medium'?100:0,sx:{height:10,borderRadius:5,backgroundColor:'#e0e0e0','& .MuiLinearProgress-bar':{borderRadius:5,backgroundColor:passwordStrength==='medium'?'orange':'#e0e0e0'}}})}),/*#__PURE__*/_jsx(Box,{width:\"33%\",sx:{ml:1},children:/*#__PURE__*/_jsx(LinearProgress,{variant:\"determinate\",value:passwordStrength==='strong'?100:0,sx:{height:10,borderRadius:5,backgroundColor:'#e0e0e0','& .MuiLinearProgress-bar':{borderRadius:5,backgroundColor:passwordStrength==='strong'?'green':'#e0e0e0'}}})})]}),/*#__PURE__*/_jsxs(Box,{display:\"flex\",justifyContent:\"space-between\",width:\"100%\",sx:{mt:1},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:passwordStrength==='weak'?'red':'textSecondary',children:\"Weak\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:passwordStrength==='medium'?'orange':'textSecondary',children:\"Medium\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:passwordStrength==='strong'?'green':'textSecondary',children:\"Strong\"})]})]}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"confirmPassword\",label:\"Confirm Password\",type:showConfirmPassword?'text':'password',id:\"confirmPassword\",autoComplete:\"new-password\",value:formData.confirmPassword,onChange:handleChange,error:Boolean(errors.confirmPassword),helperText:errors.confirmPassword,InputProps:{endAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"end\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"toggle confirm password visibility\",onClick:handleClickShowConfirmPassword,edge:\"end\",children:showConfirmPassword?/*#__PURE__*/_jsx(VisibilityOff,{}):/*#__PURE__*/_jsx(Visibility,{})})})}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"securityQuestion\",select:true,label:\"Security Question\",name:\"question_id\",autoComplete:\"security-question\",value:formData.question_id,onChange:handleChange,error:Boolean(errors.question_id),helperText:errors.question_id,children:securityQuestions.map(question=>/*#__PURE__*/_jsx(MenuItem,{value:question.id,children:question.text},question.id))}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"answer\",label:\"Answer\",name:\"answer\",autoComplete:\"answer\",value:formData.answer,onChange:handleChange,error:Boolean(errors.answer),helperText:errors.answer}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2,backgroundColor:'#6EA8DD'},children:\"Register\"})]})]})})]});};export default RegisterForm;","map":{"version":3,"names":["React","useState","NavBar","TextField","Button","Box","Container","Typography","MenuItem","IconButton","InputAdornment","Alert","LinearProgress","Visibility","VisibilityOff","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","securityQuestions","id","text","checkPasswordStrength","password","length","test","RegisterForm","navigate","formData","setFormData","username","confirmPassword","question_id","answer","errors","setErrors","generalError","setGeneralError","passwordStrength","setPasswordStrength","showPassword","setShowPassword","showConfirmPassword","setShowConfirmPassword","handleChange","e","name","value","target","handleClickShowPassword","handleClickShowConfirmPassword","handleFieldErrors","error","newErrors","general","response","message","code","data","handleSubmit","event","preventDefault","isValid","post","confirm_password","then","status","catch","children","component","maxWidth","sx","marginTop","display","flexDirection","alignItems","variant","severity","mt","mb","onSubmit","margin","required","fullWidth","label","autoComplete","autoFocus","onChange","Boolean","helperText","type","InputProps","endAdornment","position","onClick","edge","width","height","borderRadius","backgroundColor","ml","justifyContent","color","select","map","question"],"sources":["E:/宝可梦：无限融合/capstone-project-9900f14bravo/frontend/src/component/RegisterForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport NavBar from './NavBar';\nimport { TextField, Button, Box, Container, Typography, MenuItem, IconButton, InputAdornment, Alert, LinearProgress } from '@mui/material';\nimport { Visibility, VisibilityOff } from '@mui/icons-material';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nconst securityQuestions = [\n  { id: 1, text: 'What was your childhood nickname?' },\n  { id: 2, text: 'What is the name of your favorite childhood friend?' },\n  { id: 3, text: 'What was your favorite place to visit as a child?' },\n  { id: 4, text: 'What was your dream job as a child?' },\n];\n\nconst checkPasswordStrength = (password) => {\n  if (password.length < 8) {\n    return 'weak';\n  } else if (!/[A-Z]/.test(password) || !/[a-z]/.test(password) || !/[\\W_]/.test(password)) {\n    return 'medium';\n  } else {\n    return 'strong';\n  }\n};\n\n\nconst RegisterForm = () => {\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    username: '',\n    password: '',\n    confirmPassword: '',\n    question_id: '',\n    answer: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [generalError, setGeneralError] = useState('');\n  const [passwordStrength, setPasswordStrength] = useState('');\n  const [showPassword, setShowPassword] = useState(false);\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({\n      ...formData,\n      [name]: value\n    });\n\n    if (name === 'password') {\n      setPasswordStrength(checkPasswordStrength(value));\n    }\n  };\n\n  const handleClickShowPassword = () => {\n    setShowPassword(!showPassword);\n  };\n\n  const handleClickShowConfirmPassword = () => {\n    setShowConfirmPassword(!showConfirmPassword);\n  };\n\n  const handleFieldErrors = (error) => {\n    const newErrors = { username: '', password: '', confirmPassword: '', question_id: '', answer: '', general: '' };\n    if (error.response) {\n      const { message, code } = error.response.data.error;\n      if (code === 'USERNAME_EXISTS') {\n        newErrors.username = message;\n      } else if (code === 'INVALID_PASSWORD_FORMAT') {\n        newErrors.password = message;\n      } else if (code === 'PASSWORDS_DO_NOT_MATCH') {\n        newErrors.confirmPassword = message;\n      } else if (code === 'MISSING_FIELDS') {\n        newErrors.general = message;\n      } else {\n        newErrors.general = message;\n      }\n    } else {\n      newErrors.general = 'An error occurred while submitting your registration. Please try again.';\n    }\n    setErrors(newErrors);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const { username, password, confirmPassword, question_id, answer } = formData;\n\n    // 清除所有错误提示\n    setErrors({});\n    setGeneralError('');\n\n    // 表单验证\n    let isValid = true;\n    const newErrors = {};\n\n    if (!username) {\n      newErrors.username = 'Username is required';\n      isValid = false;\n    }\n    if (!password) {\n      newErrors.password = 'Password is required';\n      isValid = false;\n    }\n    if (password !== confirmPassword) {\n      newErrors.confirmPassword = 'Passwords do not match';\n      isValid = false;\n    }\n    if (!question_id) {\n      newErrors.question_id = 'Security question is required';\n      isValid = false;\n    }\n    if (!answer) {\n      newErrors.answer = 'Answer is required';\n      isValid = false;\n    }\n\n    if (!isValid) {\n      setErrors(newErrors);\n      return;\n    }\n\n    // 发送注册请求\n    axios.post('http://localhost:8000/api/register/', {\n      username: username,\n      password: password,\n      confirm_password: confirmPassword,\n      question_id: question_id,\n      answer: answer\n    })\n    .then(function (response) {\n      if (response.status === 201) {\n        navigate('/login'); // 注册成功后跳转\n      } else {\n        setErrors({ username: 'Username already exists or another error occurred.' });\n      }\n    })\n    .catch(function (error) {\n      handleFieldErrors(error);\n    });\n  };\n\n  return (\n    <>\n      <NavBar />\n      <Container component=\"main\" maxWidth=\"xs\">\n        <Box\n          sx={{\n            marginTop: 15,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n          }}\n        >\n          <Typography component=\"h1\" variant=\"h5\">\n            Register\n          </Typography>\n          {generalError && (\n            <Alert severity=\"error\" sx={{ mt: 1, mb: 1 }}>\n              {generalError}\n            </Alert>\n          )}\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1 }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"Username\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={formData.username}\n              onChange={handleChange}\n              error={Boolean(errors.username)}\n              helperText={errors.username}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type={showPassword ? 'text' : 'password'}\n              id=\"password\"\n              autoComplete=\"new-password\"\n              value={formData.password}\n              onChange={handleChange}\n              error={Boolean(errors.password)}\n              helperText={errors.password}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle password visibility\"\n                      onClick={handleClickShowPassword}\n                      edge=\"end\"\n                    >\n                      {showPassword ? <VisibilityOff /> : <Visibility />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            {formData.password && (\n              <>\n                <Box display=\"flex\" alignItems=\"center\" sx={{ mt: 1, width: '100%' }}>\n                  <Box width=\"33%\">\n                    <LinearProgress\n                      variant=\"determinate\"\n                      value={passwordStrength === 'weak' ? 100 : 0}\n                      sx={{\n                        height: 10,\n                        borderRadius: 5,\n                        backgroundColor: '#e0e0e0',\n                        '& .MuiLinearProgress-bar': {\n                          borderRadius: 5,\n                          backgroundColor: passwordStrength === 'weak' ? 'red' : '#e0e0e0',\n                        },\n                      }}\n                    />\n                  </Box>\n                  <Box width=\"33%\" sx={{ ml: 1 }}>\n                    <LinearProgress\n                      variant=\"determinate\"\n                      value={passwordStrength === 'medium' ? 100 : 0}\n                      sx={{\n                        height: 10,\n                        borderRadius: 5,\n                        backgroundColor: '#e0e0e0',\n                        '& .MuiLinearProgress-bar': {\n                          borderRadius: 5,\n                          backgroundColor: passwordStrength === 'medium' ? 'orange' : '#e0e0e0',\n                        },\n                      }}\n                    />\n                  </Box>\n                  <Box width=\"33%\" sx={{ ml: 1 }}>\n                    <LinearProgress\n                      variant=\"determinate\"\n                      value={passwordStrength === 'strong' ? 100 : 0}\n                      sx={{\n                        height: 10,\n                        borderRadius: 5,\n                        backgroundColor: '#e0e0e0',\n                        '& .MuiLinearProgress-bar': {\n                          borderRadius: 5,\n                          backgroundColor: passwordStrength === 'strong' ? 'green' : '#e0e0e0',\n                        },\n                      }}\n                    />\n                  </Box>\n                </Box>\n                <Box display=\"flex\" justifyContent=\"space-between\" width=\"100%\" sx={{ mt: 1 }}>\n                  <Typography\n                    variant=\"body2\"\n                    color={passwordStrength === 'weak' ? 'red' : 'textSecondary'}\n                  >\n                    Weak\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color={passwordStrength === 'medium' ? 'orange' : 'textSecondary'}\n                  >\n                    Medium\n                  </Typography>\n                  <Typography\n                    variant=\"body2\"\n                    color={passwordStrength === 'strong' ? 'green' : 'textSecondary'}\n                  >\n                    Strong\n                  </Typography>\n                </Box>\n              </>\n            )}\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"confirmPassword\"\n              label=\"Confirm Password\"\n              type={showConfirmPassword ? 'text' : 'password'}\n              id=\"confirmPassword\"\n              autoComplete=\"new-password\"\n              value={formData.confirmPassword}\n              onChange={handleChange}\n              error={Boolean(errors.confirmPassword)}\n              helperText={errors.confirmPassword}\n              InputProps={{\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      aria-label=\"toggle confirm password visibility\"\n                      onClick={handleClickShowConfirmPassword}\n                      edge=\"end\"\n                    >\n                      {showConfirmPassword ? <VisibilityOff /> : <Visibility />}\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"securityQuestion\"\n              select\n              label=\"Security Question\"\n              name=\"question_id\"\n              autoComplete=\"security-question\"\n              value={formData.question_id}\n              onChange={handleChange}\n              error={Boolean(errors.question_id)}\n              helperText={errors.question_id}\n            >\n              {securityQuestions.map((question) => (\n                <MenuItem key={question.id} value={question.id}>\n                  {question.text}\n                </MenuItem>\n              ))}\n            </TextField>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"answer\"\n              label=\"Answer\"\n              name=\"answer\"\n              autoComplete=\"answer\"\n              value={formData.answer}\n              onChange={handleChange}\n              error={Boolean(errors.answer)}\n              helperText={errors.answer}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2, backgroundColor: '#6EA8DD' }}\n            >\n              Register\n            </Button>\n          </Box>\n        </Box>\n      </Container>\n    </>\n  );\n};\n\nexport default RegisterForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}